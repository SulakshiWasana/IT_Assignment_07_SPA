<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SPA</title>
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/js/bootstrap.bundle.min.js">
    <link rel="stylesheet" href="assets/jQuery/jquery-3.6.4.min.js">
    <link rel="stylesheet" href="assets/style/style.css">
</head>
<body>
<header>
    <!--navigation bar-->
    <nav id="navBar" class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#" style="color: #084298" >Lankan Store</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item active" id="btn-Home">
                    <a class="nav-link" href="#" style="color: #084298">Home</a>
                </li>
                <li class="nav-item" id="btn-Customer">
                    <a class="nav-link" href="#" style="color: #084298">Customers</a>
                </li>
                <li class="nav-item" id="btn-Item">
                    <a class="nav-link" href="#" style="color: #084298">Items</a>
                </li>
                <li class="nav-item" id="btn-Order">
                    <a class="nav-link" href="#" style="color: #084298">Orders</a>
                </li>
            </ul>
        </div>
    </nav>
    <hr id="hr"><br>
</header>

<!--------------------------------------------home page--------------------------------------------->
<section class="row homePage">

</section>

<!------------------------------------------customer form------------------------------------------->
<section class="row customerform">
    <!--customer tag-->
    <h1 id="customerTag">Customer Form</h1><br>

    <!--customer text field ID-->
    <div id="div1">
        <label id="cusIdLabel">Customer ID</label><br>
        <input id="txtCusID" type="text" placeholder="Enter Customer ID" width="350px">
    </div>

    <!--customer text field Name-->
    <div id="div2">
        <label id="cusNameLabel">Customer Name</label><br>
        <input id="txtCusName" type="text" placeholder="Enter Customer Name" width="350px">
    </div>

    <!--customer text field Address-->
    <div id="div3">
        <label id="cusAddLabel">Customer Address</label><br>
        <input id="txtCusAdd" type="text" placeholder="Enter Customer Address" width="350px">
    </div>

    <!--customer text field Salary-->
    <div id="div4">
        <label id="cusSalLabel" >Customer Salary</label><br>
        <input id="txtCusSal" type="text" placeholder="Enter Customer Salary" width="350px">
    </div>

    <!--save, update & delete buttons-->
    <button id="btnSaveCus" type="button" class="btn btn-success" >Save</button>
    <button id="btnUpdateCus"type="button" class="btn btn-warning" >Update</button>
    <button id="btnDeleteCus"type="button" class="btn btn-danger">Delete</button>

    <!--customer search text field -->
    <input id="txtCusSearch" type="text" placeholder="Search Customer">
    <button id="btnSearchCus" type="button" class="btn btn-primary">Search</button>

    <!--customer table-->
    <table id="customerTable" class="table">
        <thead class="thead-dark" style="border-color: #1a1e21">
        <tr>
            <th scope="col">Customer ID</th>
            <th scope="col">Customer Name</th>
            <th scope="col">Customer Address</th>
            <th scope="col">Customer Salary</th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</section>

<!------------------------------------------item form------------------------------------------->
<section class="row itemform">
    <!--item tag-->
    <h1 id="itemTag">Item Form</h1><br>

    <!--item text field ID-->
    <div id="div1">
        <label id="itemIdLabel">Item ID</label><br>
        <input id="txtItemID" type="text" placeholder="Enter Item ID" width="350px">
    </div>

    <!--item text field Name-->
    <div id="div2">
        <label id="itemNameLabel">Item Name</label><br>
        <input id="txtItemName" type="text" placeholder="Enter Item Name" width="350px">
    </div>

    <!--item text field Address-->
    <div id="div3">
        <label id="itemAddLabel">Item Quantity</label><br>
        <input id="txtItemQty" type="text" placeholder="Enter Item Qty" width="350px">
    </div>

    <!--item text field Salary-->
    <div id="div4">
        <label id="itemSalLabel" >Item Price</label><br>
        <input id="txtItemPrice" type="text" placeholder="Enter Item Price" width="350px">
    </div>

    <!--save, update & delete buttons-->
    <button id="btnSaveItem" type="button" class="btn btn-success" >Save</button>
    <button id="btnUpdateItem"type="button" class="btn btn-warning" >Update</button>
    <button id="btnDeleteItem"type="button" class="btn btn-danger">Delete</button>

    <!--item search text field -->
    <input id="txtItemSearch" type="text" placeholder="Search Item">
    <button id="btnSearchItem" type="button" class="btn btn-primary">Search</button>

    <!--item table-->
    <table id="itemTable" class="table">
        <thead class="thead-dark" style="border-color: #1a1e21">
        <tr>
            <th scope="col">Item ID</th>
            <th scope="col">Item Name</th>
            <th scope="col">Item Address</th>
            <th scope="col">Item Salary</th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</section>

<!------------------------------------------placeorder form------------------------------------------->
<section class="row placeorderform">

    <!--invoice details-->

    <!--invoice tag-->
    <label id="invoiceTagLabel">Invoice Details</label><br>

    <div id="invoiceOrderId">
        <label class="form-label"><b>Order Id :</b></label>
    </div>

    <div id="invoiceOrderDate">
        <label class="form-label"><b>Date :</b></label>
        <input id="invoiceOrderDateTextField" type="datetime-local" class="form-control">
    </div>

    <div id="invoiceCusId">
        <label class="form-label"> <b>Customer ID :</b></label>
        <input id="invoiceCusIdTextField" type="text" class="form-control" placeholder="Enter Customer ID">
    </div>

    <div id="invoiceCusName">
        <label class="form-label"> <b>Customer Name :</b></label>
        <input id="invoiceCusNameTextField" type="text" class="form-control">
    </div>

    <div id="invoiceCusAdd">
        <label class="form-label"> <b>Customer Address :</b></label>
        <input id="invoiceCusAddTextField" type="text" class="form-control">
    </div>

    <div id="invoiceCusSal">
        <label class="form-label"> <b>Customer Salary :</b></label>
        <input id="invoiceCusSalTextField" type="text" class="form-control">
    </div>

    <!--Select Item-->

    <!--Select Item Tag-->
    <label id="selectTagLabel">Select Item</label><br>

    <div id="selectItemCode">
        <label class="form-label"> <b>Item Code :</b></label>
        <input id="selectItemCodeTextField" type="text" class="form-control" placeholder="Enter Item Code">
    </div>

    <div id="selectItemName">
        <label class="form-label"> <b>Item Name :</b></label>
        <input id="selectItemNameTextField" type="text" class="form-control">
    </div>

    <div id="selectItemPrice">
        <label class="form-label"> <b>Item Price :</b></label>
        <input id="selectItemPriceTextField" type="text" class="form-control">
    </div>

    <div id="selectItemQtyOnHand">
        <label class="form-label"> <b>Qty On Hand :</b></label>
        <input id="selectItemQtyOnHandTextField" type="text" class="form-control">
    </div>

    <div id="selectItemOrderQty">
        <label class="form-label"> <b>Order Qty :</b></label>
        <input id="selectItemOrderQtyTextField" type="text" class="form-control" placeholder="Enter Order Qty">
    </div>

    <div id="selectItemDiscount">
        <label class="form-label"> <b>Discount :</b></label>
        <input id="selectItemDiscountTextField" type="text" class="form-control">
    </div>
    <button id="btnAddToCart" type="button" class="btn btn-warning">Add to Cart</button>

    <!--Check Out-->

    <!--Check Out Tag-->
    <label id="checkOutTagLabel">Check Out</label><br>

    <div id="subtotalTag">
        <p class="h3  px-3 ">Sub Total :
            <span id="txtsubTotal"></span>
        </p>
    </div>
    <div id="totalTag">
        <p class="h3  px-3 ">Total :
            <span id="txtTotal"></span>
        </p>
    </div>
    <button id="btnConfirmOrder" type="button" class="btn btn-success" >Confirm Order</button>

    <!--order table-->
    <table id="orderTable" class="table">
        <tbody id="cusTB">
        <thead class="thead-dark" style="border-color: #1a1e21">
        <tr>
            <th scope="col">Item ID</th>
            <th scope="col">Item Name</th>
            <th scope="col">Quantity</th>
            <th scope="col">Price</th>
            <th scope="col">Total</th>
        </tr>
        </thead>>
        </tbody>
    </table>
</section>




<script src="assets/jQuery/jquery-3.6.4.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>

<script type="module" src="models/Customer.js"></script>
<script type="module" src="controller/Customer_controller.js"></script>
<script type="module" src="models/Item.js"></script>
<script type="module" src="controller/Item_controller.js"></script>
<script type="module" src="DB/db.js"></script>


<script>
    // navigation bar
    document.getElementById("btn-Customer").addEventListener("click",function(){
        document.getElementsByClassName("placeorderform")[0].style.display="none"
        document.getElementsByClassName("itemform")[0].style.display="none"
        document.getElementsByClassName("customerform")[0].style.display="block"
        document.getElementsByClassName("homepage")[0].style.display="none"
    })
    document.getElementById("btn-Item").addEventListener("click",function(){
        document.getElementsByClassName("placeorderform")[0].style.display="none"
        document.getElementsByClassName("itemform")[0].style.display="block"
        document.getElementsByClassName("customerform")[0].style.display="none"
        document.getElementsByClassName("homepage")[0].style.display="none"
    })

    document.getElementById("btn-Home").addEventListener("click",function(){
        document.getElementsByClassName("placeorderform")[0].style.display="none"
        document.getElementsByClassName("itemform")[0].style.display="none"
        document.getElementsByClassName("customerform")[0].style.display="none"
        document.getElementsByClassName("homepage")[0].style.display="block"
    })
    document.getElementById("btn-Order").addEventListener("click",function(){
        document.getElementsByClassName("placeorderform")[0].style.display="block"
        document.getElementsByClassName("itemform")[0].style.display="none"
        document.getElementsByClassName("customerform")[0].style.display="none"
        document.getElementsByClassName("homepage")[0].style.display="none"
    })

    // // crud operation --> customer form
    //
    // //data add to table
    // $("#cusTB").on('click','tr',function(event){
    //     console.log($(event.target).text());
    //     let id = $(this).children().eq(0).text();
    //     let name = $(this).children().eq(1).text();
    //     let address = $(this).children().eq(2).text();
    //     let salary = $(this).children().eq(3).text();
    //
    //     $("#txtCusID").val(id);
    //     $("#txtCusName").val(name);
    //     $("#txtCusAdd").val(address);
    //     $("#txtCusSal").val(salary);
    //
    //
    // });
    //
    // //send data local Storage
    // const data = "DATA";
    //
    // var customer_arr = [];
    //
    // function loadData() {
    //     let pre_data = localStorage.getItem(data);
    //     console.log(pre_data);
    //     let customer_data_arr = JSON.parse(pre_data);
    //     console.log(customer_data_arr);
    //
    //     $('table tbody tr').remove();
    //
    //     customer_data_arr.map((result, index) => {
    //         var row = "<tr>" +
    //             "<td>" + result.customer_id + "</td>" +
    //             "<td>" + result.customer_name + "</td>" +
    //             "<td>" + result.customer_address + "</td>" +
    //             "<td>" + result.customer_salary + "</td>" +
    //             "</tr>";
    //         $('tbody').append(row);
    //     })
    // }
    //
    // //add customer
    // $('#btnSaveCus').click(function () {
    //
    //     var customer_id = $('#txtCusID').val();
    //     var customer_name = $('#txtCusName').val();
    //     var customer_address = $('#txtCusAdd').val();
    //     var customer_salary = $('#txtCusSal').val();
    //
    //
    //     let pre_data = localStorage.getItem(data);
    //     console.log("ARR: ", pre_data);
    //
    //     let data_arr = [];
    //
    //     // undefine/ null/ "" / false
    //     if (pre_data) {
    //         data_arr = JSON.parse(pre_data);
    //     }
    //
    //     var obj = {
    //         customer_id: customer_id,
    //         customer_name: customer_name,
    //         customer_address: customer_address,
    //         customer_salary: customer_salary
    //     }
    //
    //     data_arr.push(obj);
    //     console.log(data_arr);
    //     localStorage.setItem(data, JSON.stringify(data_arr));
    //     loadData();
    //
    // });
    //
    // loadData();
    //
    //
    // //update customer
    // $('#btnUpdateCus').on('click',(event)=>{
    //     let customer_id = $("#txtCusID").val();
    //     let pre_data = localStorage.getItem(data);
    //     let customer_data_arr =JSON.parse(pre_data);
    //
    //     let index = customer_data_arr.findIndex(value => value.customer_id===customer_id);
    //     if (index > -1){
    //         console.log(customer_data_arr[index]);
    //         customer_data_arr[index].id = $("#txtCusID").val();
    //         customer_data_arr[index].customer_name = $("#txtCusName").val();
    //         customer_data_arr[index].customer_address = $("#txtCusAdd").val();
    //         customer_data_arr[index].customer_salary = $("#txtCusSal").val();
    //         localStorage.setItem(data,JSON.stringify(customer_data_arr));
    //         loadData();
    //
    //     }
    // });
    //
    // //delete Customer
    // $('#btnDeleteCus').on("click",(event)=>{
    //
    //     let id = $("#txtCusID").val();
    //
    //     let per_arr = localStorage.getItem(data);
    //     let arr = [];
    //     if(per_arr){
    //         arr = JSON.parse(per_arr);
    //     }
    //
    //     let index = arr.findIndex(value => value.customer_id === id);
    //     console.log(index);
    //     arr.splice(index, 1);
    //
    //     localStorage.setItem(data, JSON.stringify(arr));
    //     loadData();
    // })



</script>


</body>
</html>